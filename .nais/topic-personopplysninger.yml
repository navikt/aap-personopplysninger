apiVersion: kafka.nais.io/v1
kind: Topic
metadata:
  name: personopplysninger.v1
  namespace: aap
  labels:
    team: aap
  annotations:
    kafka.nais.io/removeDataWhenResourceIsDeleted: {{kafka.permanent-delete-topics}}
    kafka.format: json
    kafka.state: yes
    github.url: "https://github.com/navikt/aap-personopplysninger"
spec:
  pool: {{kafka.pool}}
  config:
    cleanupPolicy: compact
    partitions: 12
  acl:
    - team: aap
      application: personopplysninger
      access: readwrite

    - team: aap
      application: oppgavestyring
      access: readwrite

    - team: aap
      application: aap-kafka-manager
      access: read
